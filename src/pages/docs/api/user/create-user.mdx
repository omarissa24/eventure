# `createUser`

This documentation covers the `createUser` function, which is responsible for creating new user records in the database in the application.

## Function: `createUser`

### Description

The `createUser` function is an asynchronous function that creates a new user record in the MongoDB database. It validates the provided user details and creates the user.

### Parameters

- `CreateUserParams`: An object containing the following properties:
  - `clerkId` (string): The ID of the user from the Clerk service.
  - `firstName` (string): The first name of the user.
  - `lastName` (string): The last name of the user.
  - `email` (string): The email address of the user.
  - `photo` (string): The URL of the user's photo.
  - `role` (string): The role of the user.

### Return Value

- Returns a JSON stringified version of the newly created user if successful.
- Throws an error if there is any issue during the creation process.

### Example Usage

```javascript
export async function createUser(user: CreateUserParams) {
  try {
    await connectToDatabase();

    const newUser = await User.create(user);
    return JSON.parse(JSON.stringify(newUser));
  } catch (error) {
    handleError(error);
  }
}
```

### Error Handling

- The function uses a try-catch block to handle errors.
- Any errors encountered during the creation process are passed to the `handleError` function for handling.

### Dependencies

- `connectToDatabase`: A function to connect to the MongoDB database.
- `User`: A MongoDB model representing the user.
- `handleError`: A function to handle errors.

### Notes

- Ensure that the `user` parameters are correctly validated before calling this function.
- This function assumes that the necessary MongoDB model (`User`) and utility functions (`connectToDatabase`, `handleError`) are properly defined and imported in your application.
