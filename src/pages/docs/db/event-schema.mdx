# Event Schema Documentation

This document provides a detailed description of the `Event` schema used in our application. The schema is defined using Mongoose, a MongoDB object modeling tool designed to work in an asynchronous environment.

## Event Interface

The `IEvent` interface extends the Mongoose `Document` and defines the structure of an Event object.

```typescript
import { Document } from "mongoose";

export interface IEvent extends Document {
  _id: string;
  title: string;
  description?: string;
  location?: string;
  createdAt: Date;
  imageUrl: string;
  startDateTime: Date;
  endDateTime: Date;
  price: string;
  isFree: boolean;
  url?: string;
  category: { _id: string; name: string };
  organizer: { _id: string; firstName: string; lastName: string };
  participants: Array<{ _id: string; firstName: string; lastName: string }>;
}
```

## Event Schema

The `EventSchema` defines the structure and constraints of the Event documents stored in the MongoDB collection.

```typescript
import { Schema, model, models } from "mongoose";

const EventSchema = new Schema({
  title: { type: String, required: true },
  description: { type: String },
  location: { type: String },
  createdAt: { type: Date, default: Date.now },
  imageUrl: { type: String, required: true },
  startDateTime: { type: Date, default: Date.now },
  endDateTime: { type: Date, default: Date.now },
  price: { type: String },
  isFree: { type: Boolean, default: false },
  url: { type: String },
  category: { type: Schema.Types.ObjectId, ref: "Category" },
  organizer: { type: Schema.Types.ObjectId, ref: "User" },
  participants: [{ type: Schema.Types.ObjectId, ref: "User" }],
});
```

## Event Model

The `Event` model is created using the `EventSchema`. It is either retrieved from the existing models or created if it does not exist.

```typescript
const Event = models.Event || model("Event", EventSchema);

export default Event;
```

### Field Descriptions

- **\_id**: The unique identifier for the event (automatically generated by MongoDB).
- **title**: The title of the event (required).
- **description**: A detailed description of the event (optional).
- **location**: The location where the event will take place (optional).
- **createdAt**: The date and time when the event was created (default: current date and time).
- **imageUrl**: The URL of the image associated with the event (required).
- **startDateTime**: The starting date and time of the event (default: current date and time).
- **endDateTime**: The ending date and time of the event (default: current date and time).
- **price**: The price of the event (optional).
- **isFree**: A boolean indicating if the event is free (default: false).
- **url**: A URL with more information about the event (optional).
- **category**: The category of the event, referencing the `Category` model.
- **organizer**: The organizer of the event, referencing the `User` model.
- **participants**: An array of participants, each referencing the `User` model.

This schema ensures that all necessary fields are validated and appropriately referenced, providing a robust structure for storing event-related data in the database.
